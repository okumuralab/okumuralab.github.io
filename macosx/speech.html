<!DOCTYPE html>
<html lang="ja">
<head>
<link rel="canonical" href="https://okumuralab.org/~okumura/macosx/speech.html">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>音声合成（読み上げ）</title>
<link rel="stylesheet" href="../style.css">
<link rel="license" href="https://creativecommons.org/licenses/by/4.0/">
</head>
<body>

<nav id="breadcrumbs" itemprop="breadcrumb">
<a href="../" rel="home">ホーム</a> &gt;
<a href="./">macOS</a> &gt;
</nav>

<h1>音声合成（読み上げ）</h1>

<p>iPhoneはiOS 13以降で言語の切り替えがシステムワイドにしか行えなくなったようだが，Macなら日本語環境で簡単に外国語をしゃべらせることができる。「システム環境設定」→「アクセシビリティ」→「読み上げコンテンツ」で，「システムの声」→「カスタマイズ」で声を追加する。米語の女声ならAvaやSamanthaが聞きやすそうだ（なぜかSiriは使えない）。例えばKindleで英語の本を開いて，「ツール」→「読み上げ機能を開始」（⌘T）でそのページの先頭から読み上げる。「ツール」→「読み上げ機能を終了」（⌘T）で終了する。残念ながら読み上げ速度は調節できない。</p>

<p>「システム環境設定」→「アクセシビリティ」→「読み上げコンテンツ」で「選択項目を読み上げる」をオンにしておけば，選択した場所を Option + Esc で読み上げることができる。これはKindleに限らずどんなアプリでも使えるので便利である（Kindleの場合は最後に著作権情報が入る）。Siriの声も使えるし，「読み上げ速度」も設定できる。</p>

<p>ターミナルで <code>say</code> コマンドを使って発声させることもできる。海上忍さんの<a href="https://news.mynavi.jp/article/osxhack-224/">「Kyoko」と「Otoya」に語らせたい、あんなこと・こんなこと</a>に解説がある。なぜかSiriの声は使えない。例えばAvaにしゃべってもらうには</p>

<pre>
say -v Ava 'Hello, world!'
</pre>

<p>オプションは <code>man say</code> で調べられる。ちょっと早口にしてみよう：</p>

<pre>
say -v Ava -r 300 'Hello, world!'
</pre>

<p>標準入力から読むには</p>

<pre>
say -v Ava -r 300 -f -
</pre>

<p>とする。入力待ちの状態になるので，読ませたいテキストをターミナルにコピペする。どんどん追加できるので便利である。</p>

<p>細かな調節は埋め込みコマンド <code>[[ ... ]]</code> で指定できる。海上さんの解説にもあるが，詳しくは <a href="https://developer.apple.com/library/archive/documentation/UserExperience/Conceptual/SpeechSynthesisProgrammingGuide/">Speech Synthesis Programming Guide</a> の <a href="https://developer.apple.com/library/archive/documentation/UserExperience/Conceptual/SpeechSynthesisProgrammingGuide/FineTuning/FineTuning.html">Techniques for Customizing Synthesized Speech</a> Table 3-1 Embedded speech commands にまとめてある。</p>

<hr>

<footer>
<p><a href="../" rel="author">奥村 晴彦</a></p>

<p>
<!-- hhmts start -->
Last modified: <time>2021-02-14 21:46:37</time>
<!-- hhmts end -->
</p>
</footer>
</body>
</html>
