<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<title>アダムズ方式</title>
<link rel="stylesheet" href="style.css">
<link rel="license" href="http://creativecommons.org/licenses/by/4.0/">
</head>
<body>

<nav id="breadcrumbs">
<a href="/~okumura/">ホーム</a> &gt;
<a href="./">Python</a> &gt;
</nav>

<h1>アダムズ方式</h1>

<p>新型コロナワクチンを各都道府県の人口に比例して配分するにはどういう計算をすればいいか。<a href="dhondt.html">ドント方式</a>で配分すると，人口の非常に少ない県は割当がなくなってしまうかもしれない。そんなときはアダムズ（Adams）方式を使う。<a href="../stat/adams.html">Rでの計算法</a>はすでに書いたので，ここではPythonで200箱を配分する。</p>

<pre class="cell">
import numpy as np

都道府県 = ["北海道", "青森", "岩手", "宮城", "秋田", "山形", "福島",
            "茨城", "栃木", "群馬", "埼玉", "千葉", "東京", "神奈川",
            "新潟", "富山", "石川", "福井", "山梨", "長野", "岐阜",
            "静岡", "愛知", "三重", "滋賀", "京都", "大阪", "兵庫",
            "奈良", "和歌山", "鳥取", "島根", "岡山", "広島", "山口",
            "徳島", "香川", "愛媛", "高知", "福岡", "佐賀", "長崎",
            "熊本", "大分", "宮崎", "鹿児島", "沖縄"]

# 2019-10-01推計人口（単位1000人）
人口 = np.array([5250, 1246, 1227, 2306, 966, 1078, 1846, 2860, 1934,
                 1942, 7350, 6259, 13921, 9198, 2223, 1044, 1138, 768,
                 811, 2049, 1987, 3644, 7552, 1781, 1414, 2583, 8809,
                 5466, 1330, 925, 556, 674, 1890, 2804, 1358, 728, 956,
                 1339, 698, 5104, 815, 1327, 1748, 1135, 1073, 1602, 1453])

x = sum(人口) # 総人口

総数 = 250

while (np.sum(np.ceil(総数 * 人口 / x)) > 総数):
    x += 1

割当 = np.ceil(総数 * 人口 / x).astype(int)

for k, v in zip(都道府県, 割当):
    print(k, v)
</pre>

<pre>
北海道 10
青森 3
岩手 3
宮城 5
秋田 2
山形 2
福島 4
茨城 6
栃木 4
群馬 4
埼玉 14
千葉 12
東京 25
神奈川 17
新潟 4
富山 2
石川 3
福井 2
山梨 2
長野 4
岐阜 4
静岡 7
愛知 14
三重 4
滋賀 3
京都 5
大阪 16
兵庫 10
奈良 3
和歌山 2
鳥取 1
島根 2
岡山 4
広島 5
山口 3
徳島 2
香川 2
愛媛 3
高知 2
福岡 10
佐賀 2
長崎 3
熊本 4
大分 3
宮崎 2
鹿児島 3
沖縄 3
</pre>

<hr>

<p><a href="../" rel="author">奥村 晴彦</a></p>

<p>
<!-- hhmts start -->
Last modified: <time>2021-04-13 15:27:32</time>
<!-- hhmts end -->
</p>
</body>
</html>
