niku1 = read.csv("2r98520000029rw2.csv", as.is=TRUE)
head(niku1)
dim(niku1)
head(niku1[,17])
as.numeric(head(niku1[,17]))
niku1cs = as.numeric(niku1[,17])+as.numeric(niku1[,18])
head(niku1cs)
head(is.na(niku1cs))
sum(is.na(niku1cs))
33979-33723
sum(niku1cs > 0)
sum(niku1cs > 0, na.rm=TRUE)
sum(niku1cs >= 0, na.rm=TRUE)
sum(niku1cs > 100, na.rm=TRUE)
niku2 = read.csv("2r98520000029ruw.csv", as.is=TRUE)
dim(niku2)
niku1cs = as.numeric(niku2[,17])+as.numeric(niku2[,18])
head(niku2)
niku2cs = as.numeric(niku2[,17])+as.numeric(niku2[,18])
head(niku2cs)
sum(is.na(niku2cs))
55526-53337
sum(niku2cs >= 0, na.rm=TRUE)
sum(niku2cs > 100, na.rm=TRUE)
other = read.csv("2r98520000029rve.csv", as.is=TRUE)
dim(other)
head(other)
othercs = as.numeric(other[,17])+as.numeric(other[,18])
head(othercs)
sum(is.na(othercs))
44327 - 34379
sum(othercs >= 0, na.rm=TRUE)
sum(othercs > 100, na.rm=TRUE)
head(other, 10)
head(other, 20)
head(other[,18])
head(as.numeric(other[,18]))
?as.numeric
head(as.numeric(ifelse(other[,18]=="",0,other[,18])))
othercs = as.numeric(other[,17])+as.numeric(ifelse(other[,18]=="",0,other[,18]))
head(othercs)
sum(othercs >= 0)
sum(othercs >= 0, na.rm=TRUE)
sum(othercs > 100, na.rm=TRUE)
niku1cs = as.numeric(niku1[,17])+as.numeric(ifelse(niku1[,18]=="",0,niku1[,18]))
niku2cs = as.numeric(niku2[,17])+as.numeric(ifelse(niku2[,18]=="",0,niku2[,18]))

sum(niku1cs >= 0, na.rm=TRUE)
niku2 = read.csv("2r98520000029rw2.csv", as.is=TRUE)
niku1 = read.csv("2r98520000029ruw.csv", as.is=TRUE)
other = read.csv("2r98520000029rve.csv", as.is=TRUE)
niku1 = read.csv("2r98520000029ruw.csv", as.is=TRUE)
niku2 = read.csv("2r98520000029rw2.csv", as.is=TRUE)
othercs = as.numeric(other[,17])+as.numeric(ifelse(other[,18]=="",0,other[,18]))
niku1cs = as.numeric(niku1[,17])+as.numeric(ifelse(niku1[,18]=="",0,niku1[,18]))
niku2cs = as.numeric(niku2[,17])+as.numeric(ifelse(niku2[,18]=="",0,niku2[,18]))

sum(niku1cs >= 0, na.rm=TRUE)
sum(niku1cs > 100, na.rm=TRUE)
sum(niku2cs >= 0, na.rm=TRUE)
sum(niku2cs > 100, na.rm=TRUE)
sum(othercs >= 0, na.rm=TRUE)
sum(othercs > 100, na.rm=TRUE)
all = read.csv("merged.csv", as.is=TRUE)
dim(all)
all357 = all[all[,1] >= 357000000]
all357 = all[all[,1] >= 357000000, ]
head(all357)
all = read.csv("merged.csv", header=FALSE, as.is=TRUE)
head(all)
all357 = all[all[,1] >= 357000000, ]
head(all357)
head(all[,1])
all357 = all[all[,1] >= "357000000", ]
head(all357)
tail(all357)
head(all357[,19])
all357cs = as.numeric(all357[,19])
head(all357cs)
sum(all357cs >= 0, na.rm=TRUE)
dim(all357cs)
dim(all357)
length(all357cs)
sum(all357cs > 100, na.rm=TRUE)
sum(NA,NA,na.rm=TRUE)
sum(NA,3,na.rm=TRUE)
sum(5,3,na.rm=TRUE)
othercs = sum(as.numeric(other[,17])+as.numeric(other[,18]), na.rm=TRUE)
sum(othercs >= 0)
othercs = sum(as.numeric(other[,c(17,18)]), na.rm=TRUE)
othercs = sum(c(as.numeric(other[,17]),as.numeric(other[,18])), na.rm=TRUE)
head(othercs)
as.numeric("")
as.numeric("NA")
as.numeric("123")
as.numeric("NA", na.rm=TRUE)
as.numeric("NA", na.omit=TRUE)
ifelse(is.na(x), 0, as.numeric(x))
foo = function(x) { ifelse(is.na(x), 0, as.numeric(x)) }
foo("NA")
NA+3
foo = function(x) { ifelse(is.na(as.numeric(x)), 0, as.numeric(x)) }
foo("NA")
foo("")
foo("12")
foo(".12")
foo("<12")
othercs = foo(other[,17]) + foo(other[,18])
head(othercs)
head(other[,17:18])
sum(othercs >= 0)
sum(othercs > 0)
sum(othercs > 100)
niku1cs = foo(niku1[,17]) + foo(niku1[,18])
niku2cs = foo(niku2[,17]) + foo(niku2[,18])

sum(niku1cs >= 0)
sum(niku1cs > 0)
sum(niku1cs > 100)
sum(niku2cs >= 0)
sum(niku2cs > 0)
sum(niku2cs > 100)
all = read.csv("merged.csv", header=FALSE, as.is=TRUE)
all357 = all[all[,1] >= "357000000", ]
all357cs = as.numeric(all357[,19])

sum(all357cs > 0)
sum(all357cs > 0, na.rm=TRUE)
sum(all357cs >= 0, na.rm=TRUE)
sum(all357cs > 100, na.rm=TRUE)
length(all357cs)
install.packages("XLConnect")
data = readWorksheetFromFile("/usr/local/junk/2013-04-11/2r98520000029qrf.xls", 1)
library(XLConnect)
data = readWorksheetFromFile("/usr/local/junk/2013-04-11/2r98520000029qrf.xls", 1)
head(data)
?readWorksheetFromFile
data = readWorksheetFromFile("/usr/local/junk/2013-04-11/2r98520000029qrf.xls", 1, startRow=2)
head(data)
head(data$Cs合計)
x = as.numeric(data$Cs合計)
head(x)
sum(x >= 0)
sum(x >= 0, na.rm=TRUE)
sum(x > 0, na.rm=TRUE)
length(x)
c(length(x), sum(is.na(x)), sum(x > 100, na.rm=TRUE))
c(length(x), sum(!is.na(x)), sum(x > 100, na.rm=TRUE))
data = readWorksheetFromFile("/usr/local/junk/2013-04-11/2r9852000002cew1.xls", 1, startRow=2)
x = as.numeric(data$Cs合計)
c(length(x), sum(!is.na(x)), sum(x > 100, na.rm=TRUE))

data = readWorksheetFromFile("/usr/local/junk/2013-04-11/2r9852000002fcx5.xls", 1, startRow=2)
x = as.numeric(data$Cs合計)
c(length(x), sum(!is.na(x)), sum(x > 100, na.rm=TRUE))

data = readWorksheetFromFile("/usr/local/junk/2013-04-11/2r9852000002hglg.xls", 1, startRow=2)
x = as.numeric(data$Cs合計)
c(length(x), sum(!is.na(x)), sum(x > 100, na.rm=TRUE))

data = readWorksheetFromFile("/usr/local/junk/2013-04-11/2r9852000002k70j.xls", 1, startRow=2)
x = as.numeric(data$Cs合計)
c(length(x), sum(!is.na(x)), sum(x > 100, na.rm=TRUE))

data = readWorksheetFromFile("/usr/local/junk/2013-04-11/2r9852000002l8gj.xls", 1, startRow=2)
x = as.numeric(data$Cs合計)
c(length(x), sum(!is.na(x)), sum(x > 100, na.rm=TRUE))

data = readWorksheetFromFile("/usr/local/junk/2013-04-11/2r9852000002o2v2.xls", 1, startRow=2)
x = as.numeric(data$Cs合計)
c(length(x), sum(!is.na(x)), sum(x > 100, na.rm=TRUE))

data = readWorksheetFromFile("/usr/local/junk/2013-04-11/2r9852000002qlh3.xls", 1, startRow=2)
x = as.numeric(data$Cs合計)
c(length(x), sum(!is.na(x)), sum(x > 100, na.rm=TRUE))

data = readWorksheetFromFile("/usr/local/junk/2013-04-11/2r9852000002snsr.xls", 1, startRow=2)
x = as.numeric(data$Cs合計)
c(length(x), sum(!is.na(x)), sum(x > 100, na.rm=TRUE))

data = readWorksheetFromFile("/usr/local/junk/2013-04-11/2r9852000002uxt6.xls", 1, startRow=2)
x = as.numeric(data$Cs合計)
c(length(x), sum(!is.na(x)), sum(x > 100, na.rm=TRUE))

data = readWorksheetFromFile("/usr/local/junk/2013-04-11/2r9852000002zjw3.xls", 1, startRow=2)
x = as.numeric(data$Cs合計)
c(length(x), sum(!is.na(x)), sum(x > 100, na.rm=TRUE))

data = readWorksheetFromFile("/usr/local/junk/2013-04-11/2r9852000002zjw9.xls", 1, startRow=2)
x = as.numeric(data$Cs合計)
c(length(x), sum(!is.na(x)), sum(x > 100, na.rm=TRUE))

q()
n
