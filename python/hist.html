<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<title>ヒストグラム</title>
<link rel="stylesheet" href="style.css">
<link rel="license" href="https://creativecommons.org/licenses/by/4.0/">
</head>
<body>

<nav id="breadcrumbs">
<a href="/~okumura/">ホーム</a> &gt;
<a href="./">Python</a> &gt;
</nav>

<h1>ヒストグラム</h1>

<p>Python の Matplotlib のデフォルトのヒストグラムは，かっこわるい。</p>

<pre>
<code>import matplotlib.pyplot as plt
import numpy as np

rng = np.random.default_rng(12345)
x = rng.random(1000)
plt.hist(x)
</code></pre>

<figure><img src="img/hist1.svg" alt="ヒストグラム1"></figure>

<p>R 風に描くには，次のようにする：</p>

<pre>
<code>plt.hist(x, color="lightgray", edgecolor="black")
</code></pre>

<figure><img src="img/hist2.svg" alt="ヒストグラム2"></figure>

<p>seaborn の darkgrid 風に描くには，次のようにする（seaborn がインストールされていれば import しなくてもよい）：</p>

<pre>
<code>plt.style.use("seaborn-darkgrid")
plt.hist(x)
</code></pre>

<p>やや不完全なので，seaborn を import してやってみる：</p>

<pre>
<code>import seaborn as sns

sns.set_style("darkgrid")
plt.hist(x)
</code></pre>

<figure><img src="img/hist3.svg" alt="ヒストグラム3"></figure>

<p>オプション <code>density=True</code> で縦軸が個数でなく密度になる。<code>orientation='horizontal'</code> で横向きになる。</p>

<p>例えば <code>bins=50</code> で，だいたい50分割になる。また，例えば <code>bins=[0,1,2,3,4]</code> のように分割点を指定できる。この場合，区間は左閉区間 [0,1)，[1,2)，[2,3)，[3,4] になる。一番右が閉区間となるのに注意。左が閉じた区間になるのは，R のデフォルトとは逆で，R ではオプション <code>right=FALSE</code> を付けると <code>plt.hist()</code> と同じになる。ちなみに Excel の「グラフ」メニューに加わった「ヒストグラム」も左開区間にしかできないようで，悩ましい。</p>

<p>なお，seaborn だけでも <code>sns.histplot(x)</code> できる。区切り方が <code>plt.hist(x)</code> と少し違う。</p>

<hr>

<p><a href="../" rel="author">奥村 晴彦</a></p>

<p>
<!-- hhmts start -->
Last modified: <time>2021-01-02 13:59:27</time>
<!-- hhmts end -->
</p>
</body>
</html>
