<!DOCTYPE html>
<html lang="ja">
<head>
<link rel="canonical" href="https://okumuralab.org/~okumura/javascript/fold.html">
<meta charset="UTF-8">
<title>折りたたみ</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="style.css">
<link rel="license" href="https://creativecommons.org/licenses/by/4.0/">
<script>
"use strict";
function fold(x) {
  const y = x.nextElementSibling;
  if (y.style.display == 'none') {
    y.style.display = '';
  } else {
    y.style.display = 'none';
  }
}
</script>
<script src="../js/copypre.js"></script>
</head>
<body>

<nav id="breadcrumbs">
<a href="../">ホーム</a> &gt;
<a href="./">JavaScript講座</a> &gt;
</nav>

<h1>折りたたみ</h1>

<h2>例</h2>

<p id="out"></p>

<p>光学ディスクには次のものがあります。クリックすると説明が現れます。</p>

<dl>
  <dt onclick="fold(this)">CD</dt>
  <dd style="display:none">容量は540M〜700Mで，書き換えできないCD-Rと，書き換え可能なCD-RWがあります。</dd>
  <dt onclick="fold(this)">DVD</dt>
  <dd style="display:none">容量は1層で470Gで，書き換えできないDVD-R，DVD+Rと，書き換え可能なDVD-RW，DVD-RAM，DVD+RWがあります。</dd>
  <dt onclick="fold(this)">BD</dt>
  <dd style="display:none">Blu-ray Discの略です。容量は1層で25Gです。</dd>
</dl>

<h2>ソース</h2>

<p>まず <code>head</code> の中あたりで次のような関数を定義しておきます。</p>

<pre>
&lt;script&gt;
function fold(x) {
  const y = x.nextElementSibling;
  if (y.style.display == 'none') {
    y.style.display = '';
  } else {
    y.style.display = 'none';
  }
}
&lt;/script&gt;
</pre>

<p>これを使って折りたたみできるリストを作ります。</p>

<pre>
&lt;dl&gt;
  &lt;dt onclick="fold(this)"&gt;CD&lt;/dt&gt;
  &lt;dd style="display:none"&gt;容量は540M〜700Mで，書き換えできないCD-Rと，書き換え可能なCD-RWがあります。&lt;/dd&gt;
  &lt;dt onclick="fold(this)"&gt;DVD&lt;/dt&gt;
  &lt;dd style="display:none"&gt;容量は1層で470Gで，書き換えできないDVD-R，DVD+Rと，書き換え可能なDVD-RW，DVD-RAM，DVD+RWがあります。&lt;/dd&gt;
  &lt;dt onclick="fold(this)"&gt;BD&lt;/dt&gt;
  &lt;dd style="display:none"&gt;Blu-ray Discの略です。容量は1層で25Gです。&lt;/dd&gt;
&lt;/dl&gt;
</pre>

<p>なお，今では次のようにHTMLだけでも同じ機能が実現できます：</p>

<pre>
&lt;details&gt;
  &lt;summary&gt;CD&lt;/summary&gt;
  容量は540M〜700Mで，書き換えできないCD-Rと，書き換え可能なCD-RWがあります。
&lt;/details&gt;

&lt;details&gt;
  &lt;summary&gt;DVD&lt;/summary&gt;
  容量は1層で470Gで，書き換えできないDVD-R，DVD+Rと，書き換え可能なDVD-RW，DVD-RAM，DVD+RWがあります。
&lt;/details&gt;

&lt;details&gt;
  &lt;summary&gt;BD&lt;/summary&gt;
  Blu-ray Discの略です。容量は1層で25Gです。
&lt;/details&gt;
</pre>

<details>
  <summary>CD</summary>
  容量は540M〜700Mで，書き換えできないCD-Rと，書き換え可能なCD-RWがあります。
</details>

<details>
  <summary>DVD</summary>
  容量は1層で470Gで，書き換えできないDVD-R，DVD+Rと，書き換え可能なDVD-RW，DVD-RAM，DVD+RWがあります。
</details>

<details>
  <summary>BD</summary>
  Blu-ray Discの略です。容量は1層で25Gです。
</details>

<hr>

<footer>
<p><a href="../" rel="author">奥村 晴彦</a></p>
<p>
<!-- hhmts start -->
Last modified: <time>2022-05-23 10:07:04 JST</time>
<!-- hhmts end -->
</p>
</footer>
</body>
</html>
