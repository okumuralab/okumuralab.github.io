<!DOCTYPE html>
<html lang="ja">
<head>
<link rel="canonical" href="https://okumuralab.org/~okumura/python/images.html">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>画像テストページ</title>
<link rel="stylesheet" href="style.css">
<link rel="license" href="https://creativecommons.org/licenses/by/4.0/">
</head>
<body>

<nav id="breadcrumbs">
<a href="../">ホーム</a> &gt;
<a href="./">Python</a> &gt;
</nav>

<h1>画像テストページ</h1>

<p>テスト環境：Mac mini (M1, 2020) macOS Monterey 12.5</p>

<p>~/.matplitlib/matplotlibrc：</p>

<pre>
backend: MacOSX
font.family: Hiragino Sans
font.weight: 400
</pre>

<p>テストコード：</p>

<pre class="cell">
import matplotlib.pyplot as plt

plt.plot([-1, 1])
plt.title("日本語タイトル")

plt.savefig("filename.png", bbox_inches="tight")
plt.savefig("filename.jpg", bbox_inches="tight")
plt.savefig("filename.pdf", bbox_inches="tight")
plt.savefig("filename.svg", bbox_inches="tight")
plt.savefig("filename.svgz", bbox_inches="tight")
</pre>

<p>filename.png (24616バイト)</p>

<figure><img src="img/filename.png" alt="png"></figure>

<p>filename.jpg (17292バイト)</p>

<figure><img src="img/filename.jpg" alt="jpg"></figure>

<p>filename.pdf (10880バイト)</p>

<figure><img src="img/filename.pdf" alt="pdf"></figure>

<p>filename.svg (23122バイト)</p>

<figure><img src="img/filename.svg" alt="svg"></figure>

<p>filename.svgz (6316バイト)</p>

<figure><img src="img/filename.svgz" alt="svgz"></figure>

<p>フォントを埋め込まないSVG：</p>

<pre class="cell">
import matplotlib.pyplot as plt

plt.rcParams["font.family"] = ["sans-serif"]
plt.rcParams["font.weight"] = "normal"
plt.rcParams["svg.fonttype"] = "none"

plt.plot([-1, 1])
plt.title("日本語タイトル")

plt.savefig("filename2.svg", bbox_inches="tight")
</pre>

<p>filename2.svg (8612バイト)</p>

<figure><img src="img/filename2.svg" alt="svg"></figure>

<p>拡張子 svgz のファイルは，単に svg を gzip で圧縮しただけのものである。これをファイルとして開いて表示できるブラウザは残念ながらなさそうである。ネット越しなら，svg を表示できるブラウザは svgz も表示できる。ただし，そのためにはまず，Webサーバの /etc/mime.types に</p>

<pre>
image/svg+xml svg svgz
</pre>

<p>という行が必要である。なければ httpd.conf (/etc/httpd/conf あたりに入っている) に</p>

<pre>
AddType image/svg+xml svg svgz
</pre>

<p>と書き込んでおけばよい。これに加えて，httpd.conf には</p>

<pre>
AddEncoding gzip svgz
</pre>

<p>という行も必要である。httpd.conf の編集が難しい場合は，画像と同じディレクトリ（または親ディレクトリ）に .htaccess というファイルを作って，httpd.conf に書き込むべきことを書き込んでおく。</p>

<p>PDFについては，MacではSafari以外ダメ，iPhoneではSafari，Chrome大丈夫，Windowsではすべてダメのようである。PDF以外はすべてOK。</p>

<hr>

<p><a href="../" rel="author">奥村 晴彦</a></p>

<p>
<!-- hhmts start -->
Last modified: <time>2022-08-18 20:24:14 JST</time>
<!-- hhmts end -->
</p>
</body>
</html>
