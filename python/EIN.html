<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<title>EIN（アイン）</title>
<link rel="stylesheet" href="style.css">
<link rel="license" href="http://creativecommons.org/licenses/by/4.0/">
</head>
<body>

<nav id="breadcrumbs">
<a href="/~okumura/">ホーム</a> &gt;
<a href="./">Python</a> &gt;
</nav>

<h1>EIN（アイン）</h1>

<p><a href="https://github.com/millejoh/emacs-ipython-notebook">EIN -- Emacs IPython Notebook</a> は Emacs 上の Jupyter Notebook クライアントです。<a href="https://github.com/tkf">Takafumi Arakaki</a> さんが開発し，<a href="https://github.com/millejoh">John Miller</a> さんがメンテナンスされています。</p>

<figure><img src="img/EIN.png" alt="EIN"></figure>

<p>インストールは melpa でできます。具体的には，~/.emacs.d/init.el に</p>

<pre>
(require 'package)
(add-to-list 'package-archives '("melpa" . "https://melpa.org/packages/") t)
(package-initialize)
</pre>

<p>と書いて Emacs を再起動し（あるいは上の3行を評価し），M-x package-list-packages して表示されるパッケージ一覧の ein の上にカーソルを動かして i キーを打ち（<code>I</code> マークが付く），x キーを打つと実際にインストールされます。ein 以外にも，例えば R を使うなら ESS を同じ方法でインストールしておくと便利です。</p>

<p>あらかじめ ~/.mailcap というファイルを作成し，Mac なら <code>image/*; open -a Preview "%s"</code> のように書き込んで画像ビューアとして「プレビュー」を設定します。ついでに「プレビュー」の環境設定でウィンドウの背景を白に設定します。</p>

<p>起動は M-x ein:run するか .ipynb ファイルを開いて C-c C-o します。終了は M-x ein:stop です。</p>

<p>セル（<code>In [ ]:</code> の下）に何行かのコードを入力して M-RET すると，実行され，次のセルが挿入されます。C-c C-a で上にセルを挿入，C-c C-b で下にセルを挿入します。C-u C-c C-a で上にマークダウンを挿入，C-u C-c C-b で下にマークダウンを挿入します。C-c C-k でセルを消します。C-c ↑ や C-c ↓ でセルを上や下に移動します。</p>

<p>画像はデフォルトでは外部ビューアで表示しますが，インライン表示するには M-x customize-group RET ein と打ち，▷ Ein Output Area Inlined Images の先頭で RET し，TOGGLE を押して，ページ先頭の Apply and Save を押します。</p>

<p>別の起動のしかたとして，ターミナルで作業ディレクトリに移動して，好きな Python の venv を設定し，</p>

<pre>
jupyter notebook --no-browser --no-mathjax &amp;
</pre>

<p>と打ち込んで Jupyter サーバを起動してから，Emacs 側で M-x ein:login します。URL かポートを聞いてきますので，デフォルトでは 8888 と入れます。Emacs 側で EIN を終了したら，ターミナルで</p>

<pre>
jupyter notebook stop
</pre>

<p>しておきます。</p>

<hr>

<p><a href="../" rel="author">奥村 晴彦</a></p>

<p>
<!-- hhmts start -->
Last modified: <time>2021-03-30 21:29:51</time>
<!-- hhmts end -->
</p>
</body>
</html>
